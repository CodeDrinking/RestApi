let DEBUG_MODE,ValidationError,CustomErrorHandler;_676‍.x([["default",()=>_676‍.o]]);_676‍.w("../config",[["DEBUG_MODE",["DEBUG_MODE"],function(v){DEBUG_MODE=v}]]);_676‍.w("joi",[["ValidationError",["ValidationError"],function(v){ValidationError=v}]]);_676‍.w("../Services/CustomErrorHandler",[["default",["CustomErrorHandler"],function(v){CustomErrorHandler=v}]]);



const errorHandler = (err , req , res, next) => {
    let statusCode = 500;

    let data = {
        message :   'Internal Server Error',
         ...(DEBUG_MODE==='true' && { originalError : err.message})
    }


    if(err instanceof ValidationError){
        statusCode = 422;
        data ={
            message : err.message
        }

    }

    if(err instanceof CustomErrorHandler){
        statusCode = err.status;
        data ={
            message : err.message
        }
    }

    return res.status(statusCode).json(data)
}

_676‍.d(errorHandler);